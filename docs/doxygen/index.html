<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Id3dev: Id3dev</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Id3dev<span id="projectnumber">&#160;1.0.0.0</span>
   </div>
   <div id="projectbrief">An ID3 metadata library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Id3dev </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ByteStream is a stream library entirely written in C with a specific emphasis on different text encodings such as different unicode standards and ASCII. It only requires the standard C library and works on both Linux and Windows while compiled with either GCC, Clang, or MVSC.</p>
<p>The official repo for this library is located at <a href="https://github.com/definitelyewan/ByteStream">https://github.com/definitelyewan/ByteStream</a></p>
<h1><a class="anchor" id="main-features"></a>
Features</h1>
<p>ByteStream Provides an easy way to initialize a stream from a file or directly by the caller. From this point, the caller can easily read and write to the stream from a supplied position or the internal position. This library also provides functions for converting different unicode standards and other text standards such as ASCII and Latin1. This library has been optimized to reduce the runtime of its functions and the number of CPU cycles they require. However, these optimizations have only been done on x86 platforms such as Intel and AMD.</p>
<p>The ByteStream library provides:</p>
<ul>
<li>Creating a stream from a file or supplied data</li>
<li>Reading and writing from a stream</li>
<li>Coverage of UTF8, UTF16LE, UTF16BE, Latin1, and Ascii</li>
<li>Conversion between all supported encoding standards</li>
<li>Support for reading integers and SafeSync integers</li>
<li>100% test coverage</li>
<li>100% benchmark coverage</li>
<li>License: MIT</li>
</ul>
<h1><a class="anchor" id="main-test"></a>
Some Examples</h1>
<p>Creating a stream can be done in two different ways, either from a file or user-supplied data. Below is an example of how you would create a stream using this library.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteStream.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span>(argc != 2){</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">/* create a stream from a file */</span></div>
<div class="line">  ByteStream *stream = NULL;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span>((stream = byteStreamFromFile(argv[1])) == NULL){</div>
<div class="line">    printf(<span class="stringliteral">&quot;Stream was NULL\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">/* or...</span></div>
<div class="line"><span class="comment">    stream = byteStreamCreate(&quot;any data you want&quot;, 18);</span></div>
<div class="line"><span class="comment">    stream = byteStreamCreate(NULL,18); //creates a stream with no data</span></div>
<div class="line"><span class="comment">   /</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /* print the stream in hex */</span></div>
<div class="line">  byteStreamPrintf(<span class="stringliteral">&quot;%x&quot;</span>,stream);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* free */</span></div>
<div class="line">  byteStreamDestroy(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The following example will cover how to read data throughout a stream.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteStream.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">  </div>
<div class="line">  ByteStream *stream = byteStreamCreate(<span class="stringliteral">&quot;1234567890&quot;</span>,10);</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[2];</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf2;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* read from the stream */</span></div>
<div class="line">  <span class="keywordflow">if</span>((byteStreamRead(stream, buf, 2))){</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* print the stream */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;read:[%c%c]\n&quot;</span>,buf[0],buf[1]);</div>
<div class="line">    byteStreamPrintf(<span class="stringliteral">&quot;%c&quot;</span>,stream);</div>
<div class="line"> </div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* read from stream */</span></div>
<div class="line">  <span class="keywordflow">if</span>((buf2 = byteStreamReadUntil(stream, <span class="charliteral">&#39;8&#39;</span>)) != NULL){</div>
<div class="line">    <span class="comment">/* print the stream */</span></div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 6; i++){</div>
<div class="line">      printf(<span class="stringliteral">&quot;value %d = %c\n&quot;</span>, i, buf2[i]);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    free(buf2);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* read character by character */</span></div>
<div class="line">  <span class="keywordflow">if</span>(byteStreamGetCh(stream) != EOF){</div>
<div class="line">    printf(<span class="stringliteral">&quot;%c\n&quot;</span>,byteStreamGetCh(stream));</div>
<div class="line">    byteStreamSeek(stream, 1, SEEK_CUR);</div>
<div class="line">    printf(<span class="stringliteral">&quot;%c\n&quot;</span>,byteStreamGetCh(stream));</div>
<div class="line">    byteStreamSeek(stream, 1, SEEK_CUR);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* tell the user the stream has ended */</span></div>
<div class="line">  <span class="keywordflow">if</span>(byteStreamGetCh(stream) == EOF){</div>
<div class="line">    printf(<span class="stringliteral">&quot;end of stream\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* rewind */</span></div>
<div class="line">  byteStreamSeek(stream, 0, SEEK_SET);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* free */</span></div>
<div class="line">  byteStreamDestroy(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The below example will cover how to write data to a stream.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteStream.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* create a stream */</span></div>
<div class="line">  ByteStream *stream = byteStreamCreate(NULL,10);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* write to a stream */</span></div>
<div class="line">  byteStreamWrite(stream, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;0123456789&quot;</span>, 10);</div>
<div class="line">  byteStreamSeek(stream, 0, SEEK_SET);</div>
<div class="line">  byteStreamPrintf(<span class="stringliteral">&quot;%c&quot;</span>,stream);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* reverse the stream */</span></div>
<div class="line">  byteStreamWriteAtPosition(stream, <span class="stringliteral">&quot;9876543210&quot;</span>, 10, 0);</div>
<div class="line">  byteStreamSeek(stream, 0, SEEK_SET);</div>
<div class="line">  byteStreamPrintf(<span class="stringliteral">&quot;%c&quot;</span>,stream);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* replace values */</span></div>
<div class="line">  byteStreamSearchAndReplace(stream, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;654&quot;</span>, 3, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;\xff\xfe\xfd&quot;</span>, 3);</div>
<div class="line">  byteStreamSeek(stream, 0, SEEK_SET);</div>
<div class="line">  byteStreamPrintf(<span class="stringliteral">&quot;%x&quot;</span>,stream);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* free */</span></div>
<div class="line">  byteStreamDestroy(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><p>ByteStream adds support for other text encodings such as Unicode, the below example will revolve around reading and writing these kinds of values.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteUnicode.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *utf8 = NULL;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *utf16le = NULL;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ascii = NULL;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> val[] = {0x17, 0x09, 0x3e, 0x09, 0x1c, 0x09, 0x30, 0x09, 0, 0};</div>
<div class="line">  <span class="keywordtype">size_t</span> s = 0;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* create a stream */</span></div>
<div class="line">  ByteStream *stream = byteStreamCreate(NULL,29);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* build a stream of different encodings */</span></div>
<div class="line">  byteStreamWrite(stream,<span class="stringliteral">&quot;गाजर&quot;</span>, byteStrlen(BYTE_UTF8, <span class="stringliteral">&quot;गाजर&quot;</span>));</div>
<div class="line">  byteStreamSeek(stream, 1, SEEK_CUR);</div>
<div class="line">  </div>
<div class="line">  byteStreamWrite(stream,val, byteStrlen(BYTE_UTF16LE, val));</div>
<div class="line">  byteStreamSeek(stream, 2, SEEK_CUR);</div>
<div class="line">  </div>
<div class="line">  byteStreamWrite(stream, <span class="stringliteral">&quot;carrot&quot;</span>, byteStrlen(BYTE_ASCII,<span class="stringliteral">&quot;carrot&quot;</span>));</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* rewind the stream so we can read from it again */</span></div>
<div class="line">  byteStreamRewind(stream);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* read utf8 value */</span></div>
<div class="line">  utf8 = byteStreamReturnUtf8(stream,&amp;s);</div>
<div class="line">  printf(<span class="stringliteral">&quot;%s %d\n&quot;</span>,utf8,s);</div>
<div class="line">  free(utf8);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* read utf16le value */</span></div>
<div class="line">  utf16le = byteStreamReturnUtf16(stream,&amp;s);</div>
<div class="line">  printf(<span class="stringliteral">&quot;%p %d\n&quot;</span>,utf16le,s);</div>
<div class="line">  free(utf16le);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* read ascii value */</span></div>
<div class="line">  ascii = byteStreamReturnUtf8(stream,&amp;s);</div>
<div class="line">  printf(<span class="stringliteral">&quot;%s %d\n&quot;</span>,ascii,s);</div>
<div class="line">  free(ascii);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* free */</span></div>
<div class="line">  byteStreamDestroy(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><p>ByteStream adds support for reading both integers and Sync Safe integers, the below example will revolve around reading and writing these kinds of values.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteStream.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ByteStream/byteInt.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">  </div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* create a stream */</span></div>
<div class="line">  ByteStream *stream = byteStreamCreate(<span class="stringliteral">&quot;\0\0\0\x03&quot;</span>,4);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Read a standard 4 byte Int */</span></div>
<div class="line">  <span class="keywordtype">int</span> d = byteStreamReturnInt(stream);</div>
<div class="line">  printf(<span class="stringliteral">&quot;%d\n&quot;</span>,d);</div>
<div class="line">  byteStreamRewind(stream);</div>
<div class="line">  </div>
<div class="line">  <span class="comment">/* Read a Safe Sync Int */</span></div>
<div class="line">  d = byteStreamReturnSyncInt(stream);</div>
<div class="line">  printf(<span class="stringliteral">&quot;%d\n&quot;</span>,d);</div>
<div class="line">  <span class="comment">/* free */</span></div>
<div class="line">  byteStreamDestroy(stream);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="main-install"></a>
Building, Benchmarking, Testing, and Installation</h1>
<p>The ByteStream repo comes with multiple Python3 scripts aimed at ease of use for verifying tests and benchmarks as well as installation and building. All of these scripts are located in the scripts folder found with your copy of ByteStream, but please note these scripts must be run from the root directory of your copy.</p>
<p>Tests can be run on any operating system with support for the cmocka library. </p><div class="fragment"><div class="line">python scripts/test.py</div>
</div><!-- fragment --><p>Benchmarks can be run on any Linux or Windows operating system exclusively as the methods used for execution time and instruction counting are platform-specific. In the future, if I come across any Apple hardware I will make sure to add support for MAC OS. </p><div class="fragment"><div class="line">python scripts/bench.py</div>
</div><!-- fragment --><p>This library can be built using the build script within the scripts directory and by default creates a shared library as either a .so or .dll. </p><div class="fragment"><div class="line">python scripts/build.py</div>
</div><!-- fragment --><p>ByteStream can be installed using the install script provided with this copy however, at the moment the script only has full support for Linux and Windows. This script can be used on other operating systems but the compiled library will be located in build/ or build/Release. From this point on you are on your own and it is up to you to figure out where it should go. </p><div class="fragment"><div class="line">python scripts/install.py</div>
</div><!-- fragment --><p>ByteStreams documentation can be built with the docs script located in the script's directory. </p><div class="fragment"><div class="line">python scripts/docs.py</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
